(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{754:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var i=n(5155),o=n(2115);let l=e=>{let t=(null==e?void 0:e.length)||0;return t?1===t?"#7ec4cf":"#f49e4c":"#e0e0e0"};function r(e,t){var n;return(null==(n=t[e.id])?void 0:n.countryName)||e.properties.name||e.id}function s(){var e,t;let[s,d]=(0,o.useState)([]),[a,u]=(0,o.useState)({}),[h,c]=(0,o.useState)(null),[f,g]=(0,o.useState)(null),[p,m]=(0,o.useState)(null),[x,v]=(0,o.useState)(null),[j,y]=(0,o.useState)(""),b=(0,o.useRef)(null),S=(0,o.useRef)(null);(0,o.useEffect)(()=>{fetch("/data/travel-data.json").then(e=>e.json()).then(e=>u(e)),fetch("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(e=>e.json()).then(e=>{n.e(220).then(n.bind(n,220)).then(t=>{d(t.feature(e,e.objects.countries).features)})})},[]),(0,o.useEffect)(()=>{if(!x)return void y("");fetch("/comments/".concat(x.iso,".txt")).then(e=>{if(!e.ok)throw Error("No comment");return e.text()}).then(e=>y(e)).catch(()=>y(""))},[x]);let w=Object.keys(a).length;return(0,i.jsxs)("div",{ref:S,style:{width:"100%",maxWidth:900,margin:"0 auto",position:"relative"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:32},children:[(0,i.jsx)("h1",{style:{margin:0,fontSize:28,fontWeight:700,letterSpacing:-1},children:"Winnie's Travel Map"}),(0,i.jsxs)("div",{style:{fontSize:18,fontWeight:500,background:"#f49e4c",color:"#fff",borderRadius:24,padding:"8px 20px"},children:["Countries visited: ",(0,i.jsx)("span",{style:{fontWeight:700},children:w})]})]}),(0,i.jsx)("svg",{ref:b,viewBox:"0 0 800 400",style:{width:"100%",height:"auto",background:"#111",borderRadius:16},children:s.map((e,t)=>{let n=e.id,o=a[n];return("Polygon"===e.geometry.type?[e.geometry.coordinates]:e.geometry.coordinates).map((t,r)=>(0,i.jsx)("path",{d:t.map(e=>e.map((e,t)=>{let[n,i]=e;return(0===t?"M":"L")+(function(e){let[t,n]=e;return[(t+180)*800/360,(90-n)*400/180]})([n,i]).join(",")}).join(" ")+" Z").join(" "),fill:l(null==o?void 0:o.dates),stroke:"#fff",strokeWidth:.5,onMouseEnter:t=>{var i,o,l,r;c(n),g(e);let s=null==(i=b.current)?void 0:i.getBoundingClientRect(),d=null==(o=S.current)?void 0:o.getBoundingClientRect(),a=t.clientX-(null!=(l=null==s?void 0:s.left)?l:0),u=t.clientY-(null!=(r=null==s?void 0:s.top)?r:0);d&&(a=Math.max(120,Math.min(a,d.width-120)),u=Math.max(180,Math.min(u,d.height-10))),m({x:a,y:u})},onMouseMove:e=>{var t,n,i,o;let l=null==(t=b.current)?void 0:t.getBoundingClientRect(),r=null==(n=S.current)?void 0:n.getBoundingClientRect(),s=e.clientX-(null!=(i=null==l?void 0:l.left)?i:0),d=e.clientY-(null!=(o=null==l?void 0:l.top)?o:0);r&&(s=Math.max(120,Math.min(s,r.width-120)),d=Math.max(180,Math.min(d,r.height-10))),m({x:s,y:d})},onMouseLeave:()=>{c(null),g(null),m(null)},onDoubleClick:()=>{v({iso:n,geo:e})},style:{cursor:"pointer",transition:"fill 0.2s"}},n+"-"+r))})}),h&&p&&a[h]&&a[h].photos&&a[h].photos.length>0&&(0,i.jsxs)("div",{style:{position:"absolute",left:p.x,top:p.y,transform:"translate(-50%, -110%)",background:"#fff",borderRadius:12,boxShadow:"0 4px 16px rgba(0,0,0,0.15)",padding:0,zIndex:10,minWidth:180,maxWidth:240,pointerEvents:"none"},children:[(0,i.jsx)("div",{style:{display:"flex",gap:4,padding:8,justifyContent:"center",alignItems:"center"},children:a[h].photos.map((e,t)=>(0,i.jsx)("img",{src:e,alt:h+" photo",style:{width:60,height:60,objectFit:"cover",borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}},t))}),(0,i.jsx)("div",{style:{padding:12},children:(0,i.jsx)("div",{style:{fontWeight:600,fontSize:16,marginBottom:4,color:"#222"},children:r(f,a)})})]}),x&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,right:0,width:340,height:"100vh",background:"#fff",boxShadow:"-4px 0 24px rgba(0,0,0,0.18)",zIndex:100,padding:24,overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,i.jsx)("button",{onClick:()=>v(null),style:{alignSelf:"flex-end",marginBottom:16,background:"#eee",border:"none",borderRadius:8,padding:"6px 18px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),(0,i.jsxs)("h2",{style:{margin:0,marginBottom:8,color:"#222"},children:[r(x.geo,a)," (",x.iso,")"]}),(0,i.jsx)("div",{style:{marginBottom:12,color:"#888",fontSize:15},children:null==(e=a[x.iso])?void 0:e.dates.map((e,t)=>(0,i.jsxs)("div",{children:["Start: ",e.dateStart,", End: ",e.dateEnd]},t))}),(0,i.jsx)("div",{style:{marginBottom:16},children:null==(t=a[x.iso])?void 0:t.photos.map((e,t)=>(0,i.jsx)("img",{src:e,alt:x.iso+" photo",style:{width:"100%",borderRadius:10,marginBottom:8}},t))}),j&&(0,i.jsx)("div",{style:{fontStyle:"italic",color:"#666",fontSize:15},children:j})]})]})}},909:(e,t,n)=>{Promise.resolve().then(n.bind(n,754))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(909)),_N_E=e.O()}]);